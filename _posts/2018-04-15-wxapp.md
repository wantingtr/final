---
layout: post
title: "微信小程序运行环境与基本架构"
#subtitle: ""
date: 2018-04-15 1:00:00
author: "wantingtr"
tags:
    - 前端
    - 小程序
---


通过开发者调试器的APPdata这个type，我们可以实时调试每个页面的所有内部状态变量的取值。
<![webview](/img/webviewid.jpg)  

## 小程序的运行环境
> 每个小程序都运行在**微信客户端**上，可以**直接获取微信客户端的原生体验和能力**。

### 运行环境的基本架构

#### 视图层（渲染层）
- wxml
- wxss  
视图层的每一个页面都是在一个独立的webview进程中渲染的

#### 逻辑层
- JS  
运行在一个统一的JsCore进程中

每一个pages都内置了一个webviewId的内部状态变量，来记录它们各自是在几号webviwe进程之中进行渲染的。

这两层架构中，主要通过基于数据绑定和事件机制进行通讯
### 数据绑定
 基于数据绑定在逻辑层对应的逻辑代码对相应的数据进行更新之后，逻辑层会将更新之后的数据传递给视图层，然后视图层会找到对应需要更新的视图部分，进行相应的更新。
### 事件机制
视图层会接受到用户的交互反馈的行为，会将其传递给逻辑层对应的事件处理函数进行处理。
