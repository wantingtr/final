(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"19":function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(91),s=n(93),r=n(2),o=n(87),l=n(90),c=n(92),u=n(89),h=(n(38),{"taskId":1,"taskTitle":"任务拆分","taskDesc":"目标：完成任务拆分功能","childrens":[{"taskId":2,"taskTitle":"任务2","taskDesc":"层1：这一个任务的任务描述比较长","childrens":[{"taskId":4,"taskTitle":"任务4","taskDesc":"层2","childrens":[]},{"taskId":5,"taskTitle":"任务5","taskDesc":"层2","childrens":[]}]},{"taskId":3,"taskTitle":"任务3","taskDesc":"层1：","childrens":[]}]}),d=n(88),p=(n(31),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var f=function(e){function TaskListB(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListB);for(var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskListB.__proto__||Object.getPrototypeOf(TaskListB)).call(this,e)),n=[],a=0;a<e.list.length;a++)n.push(!0);return t.state={"leftDist":11,"showSubTask":n},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskListB,r["a"].Component),p(TaskListB,[{"key":"componentWillUpdate","value":function componentWillUpdate(e){var t=this.state.showSubTask,n=e.list.length-t.length;if(n>0){for(;n--;)t.push(!0);this.setState({"showSubTask":t})}}},{"key":"changeShowSubTask","value":function changeShowSubTask(e){var t=this.state.showSubTask;t[e]=!t[e],this.setState({"showSubTask":t})}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.list,i=t.level,s=this.state,r=s.leftDist,c=s.showSubTask;return a.i.createElement(o.a,null,n.map(function(t,n){return a.i.createElement(o.a,{"className":"task-item","style":"margin-left: "+(i?r:0)+"px","key":t.taskId},a.i.createElement(o.a,{"className":"\n                                        item-icon \n                                        "+(i>0?"item-icon--child":null)+"\n                                        "+(t.childrens.length>0?"item-icon--haveChildren":null)+"\n                                        "+(t.onFocus?"item-icon-selected":null)+"\n                                    "}),a.i.createElement(o.a,{"className":"item-content"},a.i.createElement(o.a,{"className":"item-main"},a.i.createElement(d.a,{"className":"item-title","type":"text","value":t.taskTitle,"focus":t.onFocus,"onConfirm":e.props.handle.bind(e,"addSibling",t.taskId),"onFocus":e.props.focusCallback.bind(e,t.taskId),"onInput":e.props.handle.bind(e,"setTitle"),"onBlur":e.props.BlurCallback.bind(e,t.taskId),"maxLength":20}),t.childrens.length>0&&a.i.createElement(u.a,{"className":"btn item-change "+(c[n]?"item-change--shrink":null),"onClick":e.changeShowSubTask.bind(e,n)})),(t.showDesc||t.taskDesc.length>0)&&a.i.createElement(l.a,{"id":"item-desc-"+t.taskId,"className":"item-desc"},t.taskDesc),a.i.createElement(l.a,{"className":"item-expireTime"},t.expireTimeStr),c[n]&&t.childrens.length>0&&a.i.createElement(g,{"list":t.childrens,"level":i+1,"handle":e.props.handle,"focusCallback":e.props.focusCallback,"BlurCallback":e.props.BlurCallback})))}))}}]),TaskListB}();f.defaultProps={"list":[]};var m=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var g=function(e){function TaskListA(e){!function TaskListA_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListA);for(var t=function TaskListA_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TaskListA.__proto__||Object.getPrototypeOf(TaskListA)).call(this,e)),n=[],a=0;a<e.list.length;a++)n.push(!0);return t.state={"leftDist":11,"showSubTask":n},t}return function TaskListA_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TaskListA,r["a"].Component),m(TaskListA,[{"key":"componentWillUpdate","value":function componentWillUpdate(e){var t=this.state.showSubTask,n=e.list.length-t.length;if(n>0){for(;n--;)t.push(!0);this.setState({"showSubTask":t})}}},{"key":"changeShowSubTask","value":function changeShowSubTask(e){var t=this.state.showSubTask;t[e]=!t[e],this.setState({"showSubTask":t})}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.list,i=t.level,s=this.state,r=s.leftDist,c=s.showSubTask;return a.i.createElement(o.a,null,n.map(function(t,n){return a.i.createElement(o.a,{"className":"task-item","style":"margin-left: "+(i?r:0)+"px","key":t.taskId},a.i.createElement(o.a,{"className":"\n                                        item-icon \n                                        "+(i>0?"item-icon--child":null)+"\n                                        "+(t.childrens.length>0?"item-icon--haveChildren":null)+"\n                                        "+(t.onFocus?"item-icon-selected":null)+"\n                                    "}),a.i.createElement(o.a,{"className":"item-content"},a.i.createElement(o.a,{"className":"item-main"},a.i.createElement(d.a,{"className":"item-title","type":"text","value":t.taskTitle,"focus":t.onFocus,"onConfirm":e.props.handle.bind(e,"addSibling"),"onFocus":e.props.focusCallback.bind(e,t.taskId),"onInput":e.props.handle.bind(e,"setTitle"),"onBlur":e.props.BlurCallback.bind(e,t.taskId),"maxLength":20}),t.childrens.length>0&&a.i.createElement(u.a,{"className":"btn item-change "+(c[n]?"item-change--shrink":null),"onClick":e.changeShowSubTask.bind(e,n)})),(t.showDesc||t.taskDesc.length>0)&&a.i.createElement(l.a,{"id":"item-desc-"+t.taskId,"className":"item-desc"},t.taskDesc),a.i.createElement(l.a,{"className":"item-expireTime"},t.expireTimeStr),c[n]&&t.childrens.length>0&&a.i.createElement(f,{"list":t.childrens,"level":i+1,"handle":e.props.handle,"focusCallback":e.props.focusCallback,"BlurCallback":e.props.BlurCallback})))}))}}]),TaskListA}();g.defaultProps={"list":[]};var v={"taskId":"12344","taskTitle":"学习使用快同哈哈哈哈哈哈哈哈哈哈哈哈哈哈步","taskDesc":"完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。","currentDegree":"32%","expireTime":1663342585053,"executorInfo":[{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID1","nickname":"执行人昵称"},{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID2","nickname":"执行人昵称"},{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID3","nickname":"执行人昵称"},{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID4","nickname":"执行人昵称"},{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID5","nickname":"执行人昵称"},{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID6","nickname":"执行人昵称"},{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID7","nickname":"执行人昵称"},{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID8","nickname":"执行人昵称"},{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID9","nickname":"执行人昵称"},{"avatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorId":"执行人用户ID0","nickname":"执行人昵称"}],"assignerAvatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","assignerNickname":"分配人昵称","taskRole":"assigned","taskStatus":"normal","feedbackList":[{"recordId":1001,"time":15623712e5,"taskDegree":"32%","content":"完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。","executorAvatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorNickName":"王大锤"},{"recordId":1002,"time":15623856e5,"taskDegree":"22%","content":"完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。","executorAvatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorNickName":"王中锤"},{"recordId":1003,"time":1563776605374,"taskDegree":"12%","content":"完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。完成快同步小程序的注册、登录，学习使用快同步小程序给自己分配任务。","executorAvatar":"https://wx.qlogo.cn/mmopen/vi_32/JbYbZ1aiazZM8BuH5aMwyuCLGd63Uq18AiawgicdgLIHKh4AYvFCGPvva4swuPEaG5WML1RySfdAWLz3DzytgG1eg/132","executorNickName":"王小锤"}]};n(80);var k=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var w=function(e){function Modal(e){!function Modal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Modal);var t=function Modal_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).call(this,e));return t.state={},t}return function Modal_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Modal,r["a"].Component),k(Modal,[{"key":"render","value":function render(){var e=this;return a.i.createElement(o.a,{"className":"confirm-modal","hidden":this.props.isHidden,"onTouchMove":function onTouchMove(e){return e.stopPropagation()}},a.i.createElement(o.a,{"className":"modal"},a.i.createElement(l.a,{"className":"modal-title"},this.props.title),a.i.createElement(l.a,{"className":"modal-content"},this.props.content),a.i.createElement(o.a,{"className":"btn-view"},a.i.createElement(u.a,{"className":"btn btn-cancel","onClick":function onClick(){return e.props.cancelCallback()}},this.props.cancelText),a.i.createElement(u.a,{"className":"btn btn-sure","onClick":function onClick(){return e.props.sureCallback()}},this.props.sureText))))}}]),Modal}(),b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),y=function get(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0};var A=function(e){function Index(e){!function index_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var t=function index_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).call(this,e));t.config={"navigationBarTitleText":"首页","backgroundColor":"#F4F8FC"};var n=v,a=n.executorInfo.length;return t.state={"data":h,"newTaskNumber":0,"currentPath":[],"currentTaskId":0,"task":n,"KeyboardHeight":0,"showAll":"-webkit-line-clamp: 1","showButton":!1,"length":a,"taskDetailHeight":0,"showModal":!1},t}return function index_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,r["a"].Component),b(Index,[{"key":"componentDidShow","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,i){try{var s=t[a](i),r=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(r).then(function(e){step("next",e)},function(e){step("throw",e)});e(r)}("next")})}}(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.checkRemarkToggle(),this.getTaskDetailHeight();case 2:case"end":return e.stop()}},_callee,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"showAll","value":function showAll(){var e=this,t=this.state.showAll;t="-webkit-line-clamp: 1"==t?"-webkit-line-clamp: ''":"-webkit-line-clamp: 1",this.setState({"showAll":t},function(){e.getTaskDetailHeight()})}},{"key":"getElementWidth","value":function getElementWidth(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(i.a)();return new Promise(function(n){t.selectAll(e).fields({"size":!0},function(e){n(e)}).exec()})}},{"key":"checkRemarkToggle","value":function checkRemarkToggle(){var e=this,t=!1;this.getElementWidth("#target").then(function(n){n[0].height>97&&(t=!0),e.setState({"showButton":t})})}},{"key":"getTaskDetailHeight","value":function getTaskDetailHeight(){var e=document.getElementsByClassName("taskDetail")[0].clientHeight;console.log("taskDetailHeight",e),this.setState({"taskDetailHeight":e})}},{"key":"bindBlur","value":function bindBlur(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("bindBlur",e);var t=this.state.data;this.clearItemFocus(t.childrens,e)}},{"key":"bindFocus","value":function bindFocus(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("bindFocus",e,t);var n=this.state.data,a=this.findItem(n.childrens,e);console.log("currentPath",a),this.setState({"currentPath":a,"currentTaskId":e})}},{"key":"clearItemFocus","value":function clearItemFocus(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=0;a<e.length;a++){var i=e[a];if(n.push(a),i.taskId===t)return i.onFocus=!1,n;if(0===i.childrens.length)n.pop();else{var s=n.length;if(this.clearItemFocus(i.childrens,t,n),n.length>s)return n;n.pop()}}}},{"key":"switchItemDesc","value":function switchItemDesc(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=0;a<e.length;a++){var i=e[a];if(n.push(a),i.taskId===t)return i.showDesc=!i.showDesc,n;if(0===i.childrens.length)n.pop();else{var s=n.length;if(this.switchItemDesc(i.childrens,t,n),n.length>s)return n;n.pop()}}}},{"key":"findItem","value":function findItem(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=0;a<e.length;a++){var i=e[a];if(n.push(a),i.taskId===t)return i.onFocus=!0,n;if(0===i.childrens.length)n.pop();else{var s=n.length;if(this.findItem(i.childrens,t,n),n.length>s)return n;n.pop()}}}},{"key":"getNewTask","value":function getNewTask(e,t,n){var a=new Object;return a.taskId=e,a.taskTitle=t,a.taskDesc=n,a.childrens=[],a.onFocus=!0,a}},{"key":"clearAllFocus","value":function clearAllFocus(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.data).childrens.forEach(function(t){t.onFocus=!1,t.childrens.length>0&&e.clearAllFocus(t)})}},{"key":"handle","value":function handle(e,t){console.log("handle",e,t),"add"===e?this.addTask():"addSibling"===e?this.addSibling():"setTitle"===e?this.setTitle(t):"setDesc"===e&&this.setDesc(t)}},{"key":"addTask","value":function addTask(){this.clearAllFocus();var e=this.state,t=e.data,n=e.newTaskNumber,a=e.currentPath;console.log("addTask path:",a);var i=this.getNewTask(""+n,"","");this.setState({"newTaskNumber":n+1});var s=t.childrens;a.forEach(function(e){s=s[e].childrens}),s.push(i),this.setState({"data":t})}},{"key":"addSibling","value":function addSibling(){var e=this;this.clearAllFocus();var t=this.state,n=t.data,a=t.newTaskNumber,i=t.currentPath,s=this.getNewTask(""+a,"新任务"+a,"");this.setState({"newTaskNumber":a+1});var r=n.childrens,o=void 0;for(o=0;o<i.length-1;o++){r=r[i[o]].childrens}var l=i[o];r.splice(l+1,0,s),this.setState({"data":n},function(){e.bindFocus(s.taskId)})}},{"key":"setTitle","value":function setTitle(e){var t=this.state,n=t.data,a=t.currentPath,i=n.childrens,s=void 0;for(s=0;s<a.length-1;s++){i=i[a[s]].childrens}var r=a[s];""!==i[r].taskTitle||null!==e.data?(i[r].taskTitle=e.detail.value,this.setState({"data":n})):this.deleteTask()}},{"key":"deleteTask","value":function deleteTask(){console.log("deleteTask");var e=this.state,t=e.data,n=e.currentPath,a=t.childrens,i=void 0;for(i=0;i<n.length-1;i++){a=a[n[i]].childrens}var s=n[i];if(a.splice(s,1),s>0)a[s-1].onFocus=!0;else if(n.length>1){for(a=t.childrens,i=0;i<n.length-2;i++){a=a[n[i]].childrens}a[n[i]].onFocus=!0}this.setState({"data":t})}},{"key":"increaseLevel","value":function increaseLevel(){var e=this,t=this.state,n=t.data,a=t.currentPath;if(1!==a.length){this.clearAllFocus();var i=a,r=n.childrens,o=void 0;for(o=0;o<i.length-1;o++){r=r[i[o]].childrens}var l=i[o],c=n.childrens,u=void 0;for(u=0;u<i.length-2;u++){c=c[i[u]].childrens}var h=i[u],d=r.splice(l,1)[0];d.onFocus=!0,c.splice(h+1,0,d),this.setState({"data":n},function(){e.bindFocus(d.taskId)})}else Object(s.a)({"title":"该任务已经是1级任务啦~","icon":"none","duration":800,"mask":!0})}},{"key":"decreaseLevel","value":function decreaseLevel(){var e=this,t=this.state,n=t.data,a=t.currentPath;if(6!==a.length){this.clearAllFocus();var i=a,r=n.childrens,o=void 0;for(o=0;o<i.length-1;o++){r=r[i[o]].childrens}var l=i[o],c=r.splice(l,1)[0];c.onFocus=!0,(r=r[l-1].childrens).push(c),this.setState({"data":n},function(){e.bindFocus(c.taskId)})}else Object(s.a)({"title":"最多创建6级子任务","icon":"none","duration":800,"mask":!0})}},{"key":"shiftUp","value":function shiftUp(){var e=this,t=this.state,n=t.data,a=t.currentPath;if(1!==a.length||0!==a[0]){var i=a,s=n.childrens,r=void 0;for(r=0;r<i.length-1;r++){s=s[i[r]].childrens}var o=i[r],l=s.splice(o,1)[0];if(o>0){var c=s[o-1];0===c.childrens.length?s.splice(o-1,0,l):c.childrens.push(l)}else{var u=n.childrens,h=void 0;for(h=0;h<i.length-2;h++){u=u[i[h]].childrens}var d=i[h];u.splice(d,0,l)}this.setState({"data":n},function(){e.bindFocus(l.taskId)})}}},{"key":"shiftDown","value":function shiftDown(){var e=this,t=this.state,n=t.data,a=t.currentPath;if(1!==a.length||a[0]!==n.childrens.length-1){var i=a,s=n.childrens,r=void 0;for(r=0;r<i.length-1;r++){s=s[i[r]].childrens}var o=i[r],l=s.splice(o,1)[0];if(o!==s.length){var c=s[o];0===c.childrens.length?s.splice(o+1,0,l):c.childrens.unshift(l)}else{var u=n.childrens,h=void 0;for(h=0;h<i.length-2;h++){u=u[i[h]].childrens}var d=i[h];u.splice(d+1,0,l)}this.setState({"data":n},function(){e.bindFocus(l.taskId)})}}},{"key":"setDesc","value":function setDesc(e){console.log("setDesc",e.data,e.target.textContent);var t=this.state,n=t.data,a=t.currentPath,i=n.childrens,s=void 0;for(s=0;s<a.length-1;s++){i=i[a[s]].childrens}i[a[s]].taskDesc=e.target.textContent,console.log("setDesc: ",i),this.setState({"data":n})}},{"key":"focusDesc","value":function focusDesc(){var e=this.state,t=e.data,n=e.currentTaskId,a=document.getElementById("item-desc-"+n);a?(a.focus(),document.all?(a.range=document.selection.createRange(),a.range.select(),a.range.moveStart("character",-1)):(a.range=window.getSelection().getRangeAt(0),a.range.setStart(a.range.startContainer,a.range.startContainer.length))):(this.switchItemDesc(t.childrens,n),this.setState({"data":t},function(){document.getElementById("item-desc-"+n).focus()}))}},{"key":"setExpireTime","value":function setExpireTime(){}},{"key":"openModal","value":function openModal(){this.setState({"showModal":!0})}},{"key":"sureDelete","value":function sureDelete(){this.deleteTask()}},{"key":"cancelDelete","value":function cancelDelete(){this.setState({"showModal":!1})}},{"key":"submitTaskSplit","value":function submitTaskSplit(){}},{"key":"render","value":function render(){var e=this,t=this.state,i=t.data,s=t.KeyboardHeight,r=t.task,h=t.showButton,d=t.showAll,p=t.length,f=t.taskDetailHeight,m=t.showModal,v="-webkit-line-clamp: ''";return console.log(d),a.i.createElement(o.a,{"className":"index"},a.i.createElement(o.a,{"className":"taskDetail"},a.i.createElement(o.a,{"className":"title","style":"line-height: 53rpx;"},r.taskTitle),a.i.createElement(o.a,{"className":"taskContent","style":""+d},a.i.createElement(l.a,{"id":"target"},r.taskDesc)),(d==v||0===r.taskDesc.length)&&a.i.createElement(o.a,{"className":"taskInfo"},null!=r.expireTime&&a.i.createElement(o.a,{"className":"expireTime"},a.i.createElement(l.a,null,function computedDay(e){var t=new Date(e);return t.getMonth()+1+"月"+t.getDate()+"日"}(r.expireTime))),a.i.createElement(o.a,{"className":"taskAvatar"},a.i.createElement(o.a,{"className":"avatar","onClick":function onClick(){return e.setState({"showExecutorList":!0})}},a.i.createElement(c.a,{"src":r.assignerAvatar,"className":"avatarItem","style":"margin-right: 0"}),a.i.createElement(c.a,{"src":n(84),"className":"triangle"}),r.executorInfo.map(function(e,t){return t<4&&a.i.createElement(c.a,{"src":e.avatar,"key":"{{index}}","className":"avatarItem"})}),0==p&&a.i.createElement(c.a,{"src":n(85),"key":"{{index}}","className":"avatarItem"}),p>4&&a.i.createElement(c.a,{"src":n(86),"key":"{{index}}","className":"avatarItem"})))),h&&"-webkit-line-clamp: 1"==d&&a.i.createElement(u.a,{"className":"showAll","onClick":this.showAll.bind(this),"data-index":"{{index}}"}),h&&d==v&&a.i.createElement(u.a,{"className":"showAll","onClick":this.showAll.bind(this),"data-index":"{{index}}","style":"transform:rotate(180deg);"})),a.i.createElement(o.a,{"className":"task-split"},a.i.createElement(o.a,{"className":"split-background","style":"top: "+(f+20)+"px"}),a.i.createElement(g,{"list":i.childrens,"level":0,"handle":function handle(t,n){return e.handle(t,n)},"focusCallback":function focusCallback(t,n){return e.bindFocus(t,n)},"BlurCallback":function BlurCallback(t,n){return e.bindBlur(t,n)}})),a.i.createElement(o.a,{"className":"functionBar","style":"bottom: "+s+"px"},a.i.createElement(c.a,{"className":"img","onClick":this.increaseLevel.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E8%AE%BE%E4%B8%BA%E7%88%B6%E4%BB%BB%E5%8A%A1icon%402x.png"}),a.i.createElement(c.a,{"className":"img","onClick":this.decreaseLevel.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E8%AE%BE%E4%B8%BA%E5%AD%90%E4%BB%BB%E5%8A%A1icon%402x.png"}),a.i.createElement(c.a,{"className":"img","onClick":this.shiftUp.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E4%B8%8A%E7%A7%BBicon%402x.png"}),a.i.createElement(c.a,{"className":"img","onClick":this.shiftDown.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E4%B8%8B%E7%A7%BBicon%402x.png"}),a.i.createElement(c.a,{"className":"img","onClick":this.openModal.bind(this),"src":"https://nanniwan01.oss-cn-shenzhen.aliyuncs.com/kuaitongbu/%E5%B7%A5%E5%85%B7%E6%A0%8F/%E5%88%A0%E9%99%A4icon%402x.png"})),a.i.createElement(w,{"isHidden":!m,"title":"是否删除任务","content":"删除该任务，包括该任务的所有子任务","sureText":"确定","cancelText":"取消","cancelCallback":function cancelCallback(){return e.cancelDelete()},"sureCallback":function sureCallback(){return e.sureDelete()}}))}},{"key":"componentDidMount","value":function componentDidMount(){y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}();t.default=A},"31":function(e,t,n){},"38":function(e,t,n){},"80":function(e,t,n){},"84":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAWCAYAAADwza0nAAAArElEQVR4AWNIK+g4mFbYcTWtuEeDgRSQWtDxH4SBmj+kFXa5kaQRgTv/pBV25pCoEYGBzp/W0LCfhTSNCKfvLmjoFyBJI8LmzhvppV2qpGhE4MLOt2lFnY6kaUTY/Cu9sCsNt0bCBvSvWrWKGa6RRM3bchsm8ZGmEeHvQ6RpRMTzYfo4Nb2wYwIocGgZHYgEQOskh0jktMxWiIxM26IDlAqAIXclq6xTk4EEAAABvbx2+YCkbQAAAABJRU5ErkJggg=="},"85":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAA8FBMVEXl6u/k6e7j6O7k6O7k6e/j5+3i5+3j6O3k6e3h5uzg5ezf5Ovi5u3////i6O3j5+7h5+3i6O7f4+vg5evh5ezl6e7+/v7e4+rk6O33+Pr9/f76+/zh5u3i5+zg5Ov2+Pni5uz8/f39/f3m6u/v8vXx8/b29/ne5Oru8fTz9Pf7+/z7/Pzo6/Hg5u3o6/Df5Ozo7PHn6/Dj6e/z9ff2+Pre4uri5eze4+vp7PHu8fXy9Pfm6u74+fv6+vz8/P3q7fLl6O/w8/bw8vbh5e35+vvm6e/t7/Pn6u/y9Pbw8vX3+frz9fj4+vve5Ovd4+r19vl6vxfyAAAEWElEQVR4Xu2Y1ZbcSgxF50gqMEIzDTOEmZnp///matLpS2M7riSPs9sP7S6tvVR2tVT22p/hkksuEbnw7TeQ7wcgAizPftumHyyF0JPfcqoKSxtYwdKph/y6DsqQGc57B+YhlJUy3KeA2ePG3nQ+m82nezfgmSFKuFHUCRAD1z9mf/PxOsAELAOCfcQMujXK/sXoFoGZfskIsKeb0+x/TG+SZyDQJyIghpD6LhhJwAQRCUpPwF74OKvhmMUzBGtBRiEmOhvVCUdnREwaEqADwKjsNKtlaiswAq6jqJFBxaOsgUcFgRFSKwQMcntNwj1HYIRcQsAT5dMm4TQn8kDIjIcgl86bhPPUkYZoZOeqwER5OmsSztKciANqBITJ2DahNcSCtY5AIbNeNk+5XDcEpfNFZFflabnZJNws07xyLNJd6MkVW0dNwqOtwpEPF3KTkFfCwCnHDXPejFdTDrwpg9364rA7CLwpq2UTxft1wv04alw27Qs7upLcvui7nVyJGhd2+1+v7Md3L1zGzbtxvwz6662Kg7GaYpzs/7dJ7SexJmhNQHFQIJgQ5zaK4jh+fvCP7+C5/hBFNmeaQLDWGWDoydpF9CreSHrm7cGT2ezJwVvTSzbiV9HCWvJDIKhJsSejt2UwSPpJLxmP79wZj5OengwGeksMeQ5qUgBYjF0v07i/cW48HI8P1acncVquWyOMgAxFQOzFOLOIBlG8Ed9LeoeHveSeftUfFjogngkinTdJoAkqk5sF7j94+O3x6dPZaDR7evr428MH97HQgQoTQqdNk/xI0BGZZ8e1FXF+/MwQuR8pSpdNEiae3rw4zRo5ffGG/AQEFUi7DxAwg17uZK3svCQwQwA1tvuEney+zn7K611xLK1GHYAQe7q6nXVg+yp5JkHrrEUY1budrBM77yqwSItMAPYVz7OOzLnyDEiTFAJ2ZN5nnXlvyDEETWVQwGIw6i4cwQhDGgojhNhR8SEL4ENBjknQlKAnsichwhNL5JtSFGJn3FkWxFVnHFP9jCEshT0KEx7ZQliAhiVI1nwKE34yluoX46rVfQ4Tfl41wNqi6igvTsKEJ0W+qmQ1TyZgl26HCbdTx2CStQZhXozChKMibxE644w2De1tSW/85eu4ka9fxr1EwzTYOOPqhcDQV+e9OIq1GV9Ler1mYa+nARvnPX9hbfW9R0v905Oxtoz6A1X2Nc1rDWhyfdUN+lFpral9qlq1OmPztNyK4ijux3HSSKzDGrRVprk1ywZYN2UagriwaVraKOproo3oYBTZMk1twYQh1fWBVfln62yqRGXUQhmlioYy+aZqowATLxWpUmeybprRQQ1xlirxE0CU+o4MsHdExhSmsG1CqwHGEDnPwLI7NxiFmZ0jIaqoBR0Uco6ZBW3dXqAQD3nC7FthDRkyQZHW3bpAAUGEWhEBQYFA2jq9HtADIoJWZLlnwLlMfvryscs7mVVQx01iB1amS/4CzMmMlWeOI5IAAAAASUVORK5CYII="},"86":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABPJJREFUaAXlm89vG0UUx+dtnFqNs7HcqvwQf0DghBCHglQVIqGKSkhI3MIFbvwBLdzgAEfgD+BGL+SGhFSJqJdQFKnk0CJOkD8AgUCp5awNShPv431nGWc8GTvrtROvxysl82Z2frzPvtnZ+fFM6owuZl5qtTrXUqVeZlKrSvEqMT2jiGOlSP5wcaKYEib+U9J2idVupNTDer22TUT/ZHkm+58mWV2SJE8dpfQuK35HAK4K9IUi9QvsE3kYO6To20rE38Rx/FeRenxlJgLcTP69zmn3Q2ngTYGs+BoqmibwR1J2k6KFzxvxxR+L1mPKjQXcTJI1TtWnzOqaqfAsQyK1TZH6uBHHPxRtpxBwp9N59uCIvxRrrhdteJxyYvWNaoVu1Wq1P0atZ2Tgx63OTcXpBitVH7WxSeYXxVuKovVL9dr3o9Qrg2L+a2+/fUsGk7vThoXGmQ58N9MpP0MuC0vXrT7e73ylmN/LX/U55iS6c2ml9oF09YPTWj0VOEn4ymHa/k4GpldPq2ya92VAe7AYLb8dx/T3MD2GdmlYdhZgAQiDZLpytTAwunHZLWvDQVf96tmJjjzQwnowKOs760D0RUXnYQOZ9x3Wnx6MxswDH0hfIyWLyOAlU3h6y/fJOgGsJxWH6a9l+PSM8xwFrFVdjF5wJycnLKhnUFOeVIwDasrCYGAxcRP2WVjmxq+nXbVlboYQRgtqzZ5791lYFgKfhQBpM7hMPWBZ4r0mw/q5rHpshc5aBhPYTDs9YFnP3jaJoYU2m36HsVNxmNLv8hma6OK9LA8OmwiLET+HnRNtYb0tEygsHjoMCUbIGjjbg0I03MswRkK/hA23cFENmd5UXKpgK1XoC+0umqpmIRTDXgBrhH3jWVB4EjqCNco2ySdRXfnrAKsMWiynAvNy8WoFxx/yDuci7nZTdW9rR/38y286/0svPq9urF1VCwu9+cvQeqZdHqwVfdaTj1fD3t9+1IMy8s038m134WGZMqjEyOdVHqxiGnOw1eMYKBjL2hl8afZ9W/bl9aXZZWzZl9eXZpfplwnA83Vh0EryIuOddS9fmpvHxH15fWkmvxv68vrS3HLHcU4qOJ8V6MvHiYMlDFC4TDdCYyZtcKnjOybvtMqDlfZayQMZpF85VitgidRPGLR2A0Z00Gg3gpuBkxpsVLtUiIkfBkvogIGVsDxs7neaWE0494OKyq7Hk8ZKrRGJIN4yvBMUnRdGnGSEVawsw5Z4y3jzBJRoGOdzE+9/P6jNgAzqomwaXy/dpXEXflBurlDiNlsPGE5f8IMKBdJwgMl2aOsBI4M4fX1iMoYSwpHNZukDllO2LRm6N+wMsyyDxT45BEvfcSkS5u5AXJ+Yi4ebPB3Z1ZzNS+suDO7pP2j6urTBg2+EbGl+ZOKzFkJ3n38HOE50aRtur9X+urTed7aitixeeZfry+/bSbY8FFgWFNXmfntrVny14I3XWFleky59YEPasrdLmwwoCHc+VGTSyhpCx0zXwbDQfaiFDRwsHYpz6VALG2BYWr8XEd0WuTSjt9ZFdIJu0NHoOyzMZWG7grlyEAc4hnt4uMkTndqMDG1Dh0GfHttArjyyhe0K4MgGP6jzcnfCQmAqP/KwoSFrH6/M7eksf8bzhax67rttjxofy8JuY+12++nDrlrPHEgC/qGWC464fMpK+VO8/wCUsy4+ZoJ7rwAAAABJRU5ErkJggg=="}}]);
